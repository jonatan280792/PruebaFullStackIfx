import{B as ee,a as k,b as h,d as D,e as q,f as O,g as U,h as M,i as x,j as B,l as G,m as V,n as A,o as H,q as P,s as W,t as X,u as z,v as Y,x as S,y as Z,z as $}from"./chunk-7W7QCPRN.js";import{Q as J,R as K,S as Q,j as E,l as w,m as u,o as v}from"./chunk-CGEGY6VQ.js";import"./chunk-WXI33M2S.js";import{$ as F,Cb as b,Cc as T,Ec as j,Qb as s,Ua as m,Va as l,aa as f,ea as _,fa as N,ja as R,ka as g,kb as L,ob as a,ub as o,vb as n,wb as c}from"./chunk-LPMB4D2Y.js";var p=class e{constructor(i){this.serviceUtils=i}doLogin(i){return this.serviceUtils.buildRequest(Y.doLogin,"post",i)}static \u0275fac=function(t){return new(t||e)(_(S))};static \u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})};function te(e,i){e&1&&(o(0,"div"),c(1,"mat-icon",20),n())}function re(e,i){e&1&&(o(0,"div"),c(1,"mat-icon",21),n())}function ne(e,i){e&1&&(o(0,"div",22)(1,"p"),s(2,"Datos incorrectos"),n()())}var d=class e{constructor(i,t,r,y,le){this.customIconService=i;this.loginService=t;this.router=r;this.sessionService=y;this.fb=le;this.customIconService.init()}themeService=N(E);formLogin;errorLogin;ngOnInit(){console.log("login"),this.initForm()}initForm(){this.formLogin=this.fb.group({user:[null,M.required],password:[null,M.required]})}toggleTheme(){this.themeService.updateTheme()}doLogin(i){let t={userName:i.user,passWord:i.password};this.loginService.doLogin(t).subscribe(r=>{r.codigo==="Ok"?(this.sessionService.saveSessionData(r.usuario),this.sessionService.saveSessionToken(r.usuario.token),this.router.navigateByUrl("/home")):this.errorLogin=!0})}static \u0275fac=function(t){return new(t||e)(l(Q),l(p),l(w),l(v),l(P))};static \u0275cmp=R({type:e,selectors:[["screen-login"]],decls:32,vars:7,consts:[[1,"login"],[1,"section-theme"],[3,"click"],[4,"ngIf"],[1,"login-section"],[1,"card-login"],[1,"title"],["src","/assets/img/logo.png","alt",""],[3,"ngSubmit","formGroup"],[1,"form-login"],[1,"user-field"],[1,"label-detail"],[1,"input-form",3,"floatLabel"],["matInput","","required","","placeholder","Ingrese su usuario","name","user","formControlName","user",1,"custom-input"],[1,"mat-error"],["matInput","","required","","placeholder","Ingrese su contrase\xF1a","name","password","type","password","formControlName","password",1,"custom-input"],["class","errorLogin",4,"ngIf"],[1,"form-submit"],[1,"section-button"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["svgIcon","sun"],["svgIcon","moon"],[1,"errorLogin"]],template:function(t,r){t&1&&(o(0,"section",0)(1,"div",1)(2,"p")(3,"mat-slide-toggle",2),b("click",function(){return r.toggleTheme()}),L(4,te,2,0,"div",3)(5,re,2,0,"div",3),n()()(),o(6,"div",4)(7,"div",5)(8,"h1",6),s(9,"IFX Networks"),n(),c(10,"img",7),o(11,"form",8),b("ngSubmit",function(){return r.doLogin(r.formLogin.value)}),o(12,"div",9)(13,"div",10)(14,"label",11),s(15,"Usuario"),n(),o(16,"mat-form-field",12),c(17,"input",13),o(18,"mat-error",14),s(19,"Campo requerido"),n()()(),o(20,"div",10)(21,"label",11),s(22,"Contrase\xF1a"),n(),o(23,"mat-form-field",12),c(24,"input",15),o(25,"mat-error",14),s(26,"Campo requerido"),n()()(),L(27,ne,3,0,"div",16),o(28,"div",17)(29,"div",18)(30,"button",19),s(31,"Ingresar"),n()()()()()()()()),t&2&&(m(4),a("ngIf",r.themeService.themeSignal()==="dark"),m(),a("ngIf",r.themeService.themeSignal()!=="dark"),m(6),a("formGroup",r.formLogin),m(5),a("floatLabel","always"),m(7),a("floatLabel","always"),m(4),a("ngIf",r.errorLogin),m(3),a("disabled",r.formLogin.status==="INVALID"))},dependencies:[T,k,q,D,X,G,U,x,B,H,V,A,J,Z],encapsulation:2})};var me=[{path:"",component:d}],I=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=g({type:e});static \u0275inj=f({imports:[u.forChild(me),u]})};var ae=[j,I,h,O,z,W,u,ee,h,K,$],se=[p,S,v],ie=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=g({type:e});static \u0275inj=f({providers:se,imports:[ae]})};export{ie as LoginModule};
