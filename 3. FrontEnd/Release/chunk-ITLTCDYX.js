import{c as a,l as f,o as u}from"./chunk-CGEGY6VQ.js";import{$ as m,F as i,X as c,ea as n,r as s,u as p}from"./chunk-LPMB4D2Y.js";var v=class o{constructor(e,r){this.sessionService=e;this.router=r}intercept(e,r){return r.handle(e).pipe(c(t=>{t instanceof a}),i(t=>{t.status===403?(this.sessionService.removeSessionData(),this.router.navigate(["/"])):t.status===401&&(this.sessionService.removeSessionData(),this.router.navigate(["/"]));let l=t.error.message||t.statusText;return s(l)}),p(t=>(t instanceof a,t)),i(this.handleError))}handleError(e){return e.error instanceof ErrorEvent&&console.error("An error occurred:",e.error.message),s(e)}static \u0275fac=function(r){return new(r||o)(n(u),n(f))};static \u0275prov=m({token:o,factory:o.\u0275fac})};export{v as a};
